<html>
<head>
  <title>Evernote Export</title>
  <basefont face="Consolas" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303244 (en-US, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: Consolas;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="2221"/>

<div>
<span><div><span style="font-size: 16px;"><span style="font-family: Consolas;"><img src="[IMP] Objects and Functions_files\en_todo.png"/>First class functions in JS</span></span></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 16px;">In Javascript, Functions are just Objects with two additional properties.</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">- name : name of function/anonymous (if no name given)</span></div><div><span style="font-size: 16px;">- code : code written in function exist here and this property is special as it is invocable.</span></div></div><div><br/></div><div><br/></div><div><span style="font-size: 16px;"><span style="font-family: Consolas;">So functions can be returned by other functions, can be passed as input, can be added properties like simple object!</span></span></div><div><b><br/></b></div><div><b><br/></b></div><div><b><br/></b></div><div><b><img src="[IMP] Objects and Functions_files\en_todo [1].png"/> </b><span style="font-size: 16px;"><span style="font-family: Consolas;">JS pass by reference/value</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Consolas;"><br/></span></span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>Primitives are passed by value while <span style="color: rgb(227, 0, 0);"><b>objects by reference</b></span>.</div></div><div><br/></div><div><br/></div><div><img src="[IMP] Objects and Functions_files/Image.png" type="image/png" style="height: auto;"/>                                   <img src="[IMP] Objects and Functions_files/Image [1].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><span style="font-size: 16px;"><span style="font-family: Consolas;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Consolas;"><img src="[IMP] Objects and Functions_files\en_todo [2].png"/> <span style="color: rgb(227, 0, 0);"><b>this </b></span></span></span></div><div><br/></div><div><span style="font-size: 16px;"><span style="font-family: Consolas;">With creation of each execution context, JS also assign a special property called &quot;this&quot; to it. But value to &quot;this&quot; keyword is assigned based on how function is invoked!.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Consolas;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Consolas;"><br/></span></span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">There are a few guidelines to understand 'this' keyword behavior in JS.Generally 'this' is subject to verb(function) in JS.</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">Rule of thumb:</span></span></b></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><img src="[IMP] Objects and Functions_files\en_todo [3].png"/> If a function is invoked using .(dot) , expression before dot is subject and hence 'this' should point to the expression.</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><img src="[IMP] Objects and Functions_files\en_todo [4].png"/> If a function invoked using 'new' , this points to new empty object.</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><img src="[IMP] Objects and Functions_files\en_todo [5].png"/> 'this' points to global/window </span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">There are some exceptions to rule discussed below.</span></span></b></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><img src="[IMP] Objects and Functions_files\en_todo [6].png"/> Inside a closure (inner function of a function), this is bound to window/global</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">var name = 'John'</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">var user = {</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     name:'SHASHANK',</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     games: [{name:'Chess'},{name:'TT'}],</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     <span style="color: rgb(147, 150, 0);">info : function(){</span></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(147, 150, 0);">           <span style="color: rgb(65, 173, 28);"><b>this</b></span>.games.forEach(function(game){</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(147, 150, 0);">               console.log(<span style="color: rgb(227, 0, 0);"><b>this</b></span>.name + ' plays '+game.name)</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(147, 150, 0);">          })</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     }</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">}</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">user.info();</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><b><span style="color: rgb(51, 51, 51);">OUTPUT:</span></b></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">John plays Chess</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">John plays TT</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><b>EXPLANATION:</b></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><b><span style="color: rgb(51, 51, 51);"><br/></span></b></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><b><span style="color: rgb(65, 173, 28);">this</span></b> looks OK as it follows Rule 1.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(255, 0, 0);"><b>this</b></span> points to global/window as inside a closure/inner function. Inner functions don't have access to it's parent's this reference.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><b>FIX:</b></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">We can make use of fact that JS passes Objects by reference!</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="color: rgb(51, 51, 51);">     <span style="color: rgb(147, 150, 0);">info : function(){</span></span></span></div><div><span style="font-size: 16px;"><span style="color: rgb(147, 150, 0);">           var self = this;<br/></span></span></div><div><span style="font-size: 16px;"><span style="color: rgb(147, 150, 0);">           <span style="color: rgb(65, 173, 28);"><b>this</b></span>.games.forEach(function(game){</span></span></div><div><span style="font-size: 16px;"><span style="color: rgb(147, 150, 0);">               console.log(<span style="color: rgb(227, 0, 0);"><b>self</b></span>.name + ' plays '+game.name)</span></span></div><div><span style="font-size: 16px;"><span style="color: rgb(147, 150, 0);">          })</span></span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><img src="[IMP] Objects and Functions_files\en_todo [7].png"/> When used in a callback</span></span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">var user = {</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     name:'SHASHANK',</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     games: [{name:'Chess'},{name:'TT'}],</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     <span style="color: rgb(147, 150, 0);">clickHandler: function(event){</span></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(147, 150, 0);">               console.log(<span style="color: rgb(227, 0, 0);"><b>this</b></span>.name + ' plays '+</span></span> <span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(147, 150, 0);"><span style="color: rgb(227, 0, 0);"><b>this</b></span></span></span> <span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(147, 150, 0);">.games[0].name +' and '+</span></span><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(147, 150, 0);"><span style="color: rgb(227, 0, 0);"><b>this</b></span></span></span> <span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(147, 150, 0);">.games[1].name</span></span> <span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(147, 150, 0);">)</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(147, 150, 0);">          }</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     }</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">}</span></span></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(198, 197, 0);"><br/></span></span></b></span></div><div><span style="font-size: 16px;"><span style="color: rgb(198, 197, 0);"><span style="font-family: Monaco;">$('button').click(user.clickHandler)  // called using JQuery</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><b><span style="color: rgb(51, 51, 51);">OUTPUT:</span></b></span></span></div><div><span style="font-size: 16px;"><font color="#333333" face="Monaco, Menlo, Consolas, Courier New, monospace">cannot read property name of undefined.</font></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><b>EXPLANATION:</b></span></span></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></b></span></div><div><span style="font-size: 16px;">By Rule of thumb, <span style="color: rgb(255, 0, 0);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><b>this</b></span></span> should point to user object, here real subject is NOT user but button.So <span style="color: rgb(255, 0, 0);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><b>this</b></span></span> will point to button object.</span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><b>FIX:</b></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">Bind this to user object!</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="color: rgb(198, 197, 0);"><span style="font-family: Monaco;">$('button').click(user.clickHandler.bind(user))</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;"><span style="color: rgb(198, 197, 0);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;"><span style="color: rgb(198, 197, 0);"><img src="[IMP] Objects and Functions_files\en_todo [8].png"/> </span>When method is assigned to a variable and invoked using variable</span></span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">var name = 'John'</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">var user = {</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     name:'SHASHANK',</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     <span style="color: rgb(147, 150, 0);">info : function(){</span></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(147, 150, 0);">          console.log('My name is '+<b><span style="color: rgb(227, 0, 0);">this</span></b>.name)</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     }</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">}</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="color: rgb(147, 150, 0);"><span style="font-family: Monaco;">var showUserInfo = user.info;</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">user.info();</span></span></span></div><div><span style="font-size: 16px;"><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco;">showUserInfo();</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><b><span style="color: rgb(51, 51, 51);">OUTPUT:</span></b></span></span></div><div><span style="font-size: 16px;"><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco;">My name is SHASHANK</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;"><span style="color: rgb(51, 51, 51);">My name is John</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><b>EXPLANATION:</b></span></span></span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">user.info() gives expected output as Rule of thumb.But showUserInfo() messes with this reference why?</span></div><div><span style="font-size: 16px;"><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco;">showUserInfo() call can be written as window.</span></span><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco;">showUserInfo() and thus this refers to window object here.</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><b>FIX:</b></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">Bind this to user object!</span></span></div><div><span style="font-size: 16px;"><span style="color: rgb(147, 150, 0);"><span style="font-family: Monaco;">var showUserInfo = user.info.bind(user);</span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;"><span style="color: rgb(147, 150, 0);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;"><span style="color: rgb(147, 150, 0);"><img src="[IMP] Objects and Functions_files\en_todo [9].png"/> </span>When borrowing methods (Here we have fixed problem so will behave as expected)</span></span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">var user = {</span></div><div><span style="font-size: 16px;">        data :[</span></div><div><span style="font-size: 16px;">                    {name:&quot;Shashank&quot;, age:28},</span></div><div><span style="font-size: 16px;">                    {name:&quot;Mayank&quot;, age:25}</span></div><div><span style="font-size: 16px;">               ],</span></div><div><span style="font-size: 16px;">        showData: function() {</span></div><div><span style="font-size: 16px;">                    var randomNum = ((Math.random () * 2 | 0) + 1) - 1; // random number between 0 and 1​</span></div><div><span style="font-size: 16px;">                    console.log (this.data[randomNum].name + &quot; &quot; + this.data[randomNum].age);</span></div><div><span style="font-size: 16px;">                }</span></div><div><span style="font-size: 16px;">}</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">var cars = {</span></div><div><span style="font-size: 16px;">        data:[</span></div><div><span style="font-size: 16px;">                {name:&quot;Honda Accord&quot;, age:14},</span></div><div><span style="font-size: 16px;">                {name:&quot;Tesla Model S&quot;, age:2}</span></div><div><span style="font-size: 16px;">             ]</span></div><div><span style="font-size: 16px;">}</span></div><div><span style="font-size: 16px;">// cars borrowing method showData from users</span></div><div><span style="font-size: 16px;">var showCarData = user.showData.bind(cars);</span></div><div><span style="font-size: 16px;">showCarData();</span></div><div><span style="font-size: 16px;"><br/></span></div></div><div><span style="font-size: 16px;"><span style="font-family: Consolas;"><br/></span></span></div><div><img src="[IMP] Objects and Functions_files\en_todo [10].png"/>  <b>JS Arrays</b></div><div><br/></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><span style="font-size: 16px;">var arr = ['1', 'shashank', function(name){console.log(name)}, {games:['TT','Chess']}]</span></div><div><span style="font-size: 16px;">arr[2](arr[1])</span></div><div><span style="font-size: 16px;">console.log(arr[1] + ' likes playing '+ arr[3].games[0] + ' and ' + arr[3].games[1] )</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">OUTPUT:</span></div><div><span style="font-size: 16px;">shashank</span></div><div><span style="font-size: 16px;">shashank likes to play TT and Chess</span></div><div><br/></div><div><br/></div></div><div><br/></div><div><br/></div><div><img src="[IMP] Objects and Functions_files\en_todo [11].png"/> Immediately invoked function expressions (IIFEs): Since function creates it's own execution context, so any variables we create inside it is same and doesn't collide with global context!</div><div><br/></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><span style="font-size: 16px;">Example 1:</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">var greet = function(name){</span></div><div><span style="font-size: 16px;">     return 'Hey '+ name;</span></div><div><span style="font-size: 16px;">}('Shashank');</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">console.log(greet);</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">NOTE: greet here is NOT a function rather just a String as function is immediately invoked and stored result in greet.</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">Example 2:</span></div><div><span style="font-size: 16px;">We know, we write expression in (). What if we wrap function in ()?</span></div><div><span style="font-size: 16px;">Well it becomes a function expression and then we can also invoke it.</span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">(function(name){</span></div><div><span style="font-size: 16px;">     console.log('Hey '+ name);</span></div><div><span style="font-size: 16px;">})('Shashank');</span></div><div><br/></div><div><br/></div></div><div> </div><div><br/></div><div><br/></div><div><img src="[IMP] Objects and Functions_files\en_todo [12].png"/> Closures: The phenomenon of closing in all required variables by inner functions present in outer functions, even after execution context is destroyed.</div><div><br/></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.148438);"><div><img src="[IMP] Objects and Functions_files/Image [2].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(167, 69, 0);"><br/></span></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">Here after greet('Hi') is executed, it's execution context is over, then how sayHi('Tony') still is able to access salutation 'Hi'? This is possible by closure!</span></span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;">Now We have understanding, let's try to fix a problem!</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;">Problem:</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;"><br/></span></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">function buildFunc(){</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">var arr = [];</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">     for(var i = 0 ; i &lt; 3 ; i++ ){</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">          arr.push(<span style="color: rgb(147, 150, 0);">function(){</span></span></b></span></div><div><span style="font-size: 16px;"><b><span style="color: rgb(147, 150, 0);"><span style="font-family: Monaco;">              console.log(i) </span></span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;"><span style="color: rgb(147, 150, 0);">          }</span>)<br/></span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">     }</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">return arr;</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">}</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;"><br/></span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">var fs = buildFunc();</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">fs[0]();   <span style="color: rgb(28, 51, 135);">// 3</span></span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">fs[1]();   <span style="color: rgb(65, 0, 125);">// 3</span></span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">fs[2]();   <span style="color: rgb(65, 0, 125);">// 3</span></span></b></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;">It is not hard to see final value of i = 3 (after i++) which was retained as value of i, when execution context of outer function was over. Hence output is 3 in every case.</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;">How do we fix this?</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;">In Ecmascript 6, we can eaisly fix this using let which creates block level variables.</span></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;"><br/></span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">function buildFunc(){</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">var arr = [];</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">     for(var i = 0 ; i &lt; 3 ; i++ ){</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">          <span style="color: rgb(147, 150, 0);">let j = i;  // block level variable, so will persist separately for each iteration in block!</span></span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">          arr.push(<span style="color: rgb(147, 150, 0);">function(){</span></span></b></span></div><div><span style="font-size: 16px;"><b><span style="color: rgb(147, 150, 0);"><span style="font-family: Monaco;">              console.log(j) </span></span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;"><span style="color: rgb(147, 150, 0);">          }</span>)<br/></span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">     }</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">return arr;</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">}</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;"><br/></span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">var fs = buildFunc();</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">fs[0]();   <span style="color: rgb(28, 51, 135);">// 0</span></span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">fs[1]();   <span style="color: rgb(65, 0, 125);">// 1</span></span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">fs[2]();   <span style="color: rgb(65, 0, 125);">// 2</span></span></b></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;"><br/></span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;">But In previous versions of JS, We can fix this using concept of IIFE as they will create a separate execution context!</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Monaco;"><br/></span></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">function buildFunc(){</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">var arr = [];</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">     for(var i = 0 ; i &lt; 3 ; i++ ){</span></b></span></div><div><span style="font-size: 16px;"><span style="color: rgb(147, 150, 0);"><b><span style="font-family: Monaco;">         </span> (function(j){</b></span></span></div><div><span style="font-size: 16px;"><span style="color: rgb(147, 150, 0);"><b><span style="font-family: Monaco;">               arr.push(function(){</span></b></span></span></div><div><span style="font-size: 16px;"><span style="color: rgb(147, 150, 0);"><b><span style="font-family: Monaco;">                   console.log(j) </span></b></span></span></div><div><span style="font-size: 16px;"><span style="color: rgb(147, 150, 0);"><b><span style="font-family: Monaco;">               })</span></b></span></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;"><span style="color: rgb(147, 150, 0);">          })(i)</span><br/></span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">     }</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">return arr;</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">}</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;"><br/></span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">var fs = buildFunc();</span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">fs[0]();   <span style="color: rgb(28, 51, 135);">// 0</span></span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">fs[1]();   <span style="color: rgb(65, 0, 125);">// 1</span></span></b></span></div><div><span style="font-size: 16px;"><b><span style="font-family: Monaco;">fs[2]();   <span style="color: rgb(65, 0, 125);">// 2</span></span></b></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco;"><br/></span></span></div></div><div><br/></div><div><img src="[IMP] Objects and Functions_files\en_todo [13].png"/> <span style="font-size: 16px;"><span style="font-family: Consolas;">JS CALL(),APPLY() &amp; BIND() : Taking control over 'this'</span></span></div><div><span style="font-size: 16px;"><span style="font-family: Consolas;">All functions in JS has access to these three methods along with name and code we discussed before.</span></span></div><div><br/></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><span style="font-size: 16px;">Example 1 :</span> method borrowing using bind</div><div><br/></div><div>// bind creates a copy of function with this assigned to provided value in bind function.</div><div><br/></div><div>var person = {</div><div>     name : 'SHASHANK DWIVEDI',</div><div>     getName : function(){</div><div>                    return <span style="color: rgb(173, 0, 0);"><b>this</b></span>.name;</div><div>               }</div><div>}</div><div><br/></div><div>function greet(salutation, lang){</div><div>     console.log('In '+lang+ ': ' +salutation+' '+this.getName()); // trying to borrow from person</div><div>}</div><div>// this now will refer to person, after that all parameters are given</div><div>var greetPerson= greet.bind(person,'Hi', 'en');</div><div>greetPerson(); // In en: Hi SHASHANK DWIVEDI</div><div><br/></div><div><br/></div><div>Example 2 : method borrowing using call.</div><div>// call actually calls function i.e invokes code part providing it given value as this! </div><div>// unlike bind it doesn't create a copy.</div><div>// It is similar to invoking a function using () but with control over 'this'</div><div><br/></div><div>var person = {</div><div>     name : 'SHASHANK DWIVEDI',</div><div>     getName : function(){</div><div>                    return this.name;</div><div>               }</div><div>}</div><div><br/></div><div>function greet(salutation, lang){</div><div>     console.log('In '+lang+ ': ' +salutation+' '+this.getName()); // trying to borrow from person</div><div>}</div><div>greet.call(person,'Hi', 'en'); // In en: Hi SHASHANK DWIVEDI</div><div><br/></div><div>Example 3 : method borrowing using apply</div><div>// apply is same as call, except it takes method arguments as array.</div><div><br/></div><div>var person = {</div><div>     name : 'SHASHANK DWIVEDI',</div><div>     getName : function(){</div><div>                    return this.name;</div><div>               }</div><div>}</div><div><br/></div><div>function greet(salutation, lang){</div><div>     console.log('In '+lang+ ': ' +salutation+' '+this.getName()); // trying to borrow from person</div><div>}</div><div>// takes args as array</div><div>greet.apply(person,['Hi', 'en']); // In en: Hi SHASHANK DWIVEDI</div><div><br/></div><div>Example 4 : on fly method call </div><div><br/></div><div>var person = {</div><div>     name : 'SHASHANK DWIVEDI',</div><div>     getName : function(){</div><div>                    return this.name;</div><div>               }</div><div>}</div><div><br/></div><div>(function(salutation, lang2) {</div><div>    console.log('Logged: ' + this.getName());</div><div>}).call(person, 'Hi', 'en');</div><div><br/></div><div><br/></div><div>Example 5: <b>curring using bind</b> (as bind creates a copy of function)</div><div><br/></div><div>function multiply(a,b){</div><div>     return a*b;</div><div>} </div><div><br/></div><div>var multiplyByTwo = multiply.bind(this,2);</div><div><br/></div><div>console.log(multiplyByTwo(3)); // 6</div><div><br/></div></div><div><br/></div><div><img src="[IMP] Objects and Functions_files\en_todo [14].png"/> Essence of functional programming</div><div><br/></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>Example 1: given an array, find for each element is odd or even</div><div><br/></div><div>var arr = [2,5,6,3,7]</div><div><br/></div><div>function mapForEach(array,fn){</div><div>     var newarr = [];</div><div>     for(var i=0; i &lt; array.length; i++){</div><div>          newarr.push(fn(array[i]));</div><div>     }</div><div>     return newarr;</div><div>}</div><div><br/></div><div>var boolArr = mapForEach(arr, function(element){</div><div>// define work here</div><div>return element % 2 == 0;</div><div>})</div><div><br/></div><div>console.log(boolArr); //[true,false,true,false,false]</div><div><br/></div><div>var multiplyBy2Arr = mapForEach(arr, function(element){</div><div>     return 2*element;</div><div>})</div><div><br/></div><div>console.log(multiplyBy2Arr); // [4,10,12,6,14]</div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div><div><img src="[IMP] Objects and Functions_files\en_todo [15].png"/> Object prototype</div><div><br/></div><div><br/></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><img src="[IMP] Objects and Functions_files/Image [3].png" type="image/png"/></div><div><br/></div><div> </div></div><div><br/></div><div><br/></div></span>
</div></body></html> 